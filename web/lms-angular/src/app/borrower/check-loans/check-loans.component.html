<div class= "container marketing">
  <h3>
    Check Loans:
  </h3>
  <h4>
    Loans By Card Number: {{searchInput}}
  </h4>
  <ng-container *ngIf="connection===true; then showView; else errorView"></ng-container>
  <ng-template #showView>
    <table class="table table-dark">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col" > Book </th>
          <th scope="col" > Library Branch </th>
          <th scope="col"> Date Out </th>
          <th scope="col"> Due Date </th>
          <th scope="col"> Date In </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let loan of bookLoans; let i = index">
          <th scope="row">{{i + 1}}</th>
          <td>
            {{loan.book.title}}
          </td>
          <td>
            {{loan.branch.name}}
          </td>
          <td>
            {{loan.dateOut}}
          </td>
          <td>
            {{loan.dueDate}}
          </td>
          <td>
            {{loan.dateIn}}
          </td>
        </tr>
      </tbody>
    </table>
    <div class="ds-l-row ds-u-margin-top--3">
      <div class="ds-l-col--9">
        <ngb-pagination
          [collectionSize]="totalBooks"
          [(page)]="pager.currentPage"
          [maxSize]="5"
          [boundaryLinks]="true"
          (pageChange)="setPage($event)"
        ></ngb-pagination>
      </div>
    </div>
</ng-template>

<ng-template #errorView>
  <div class="alert alert-danger" role="alert">
    {{errMsg}}
  </div>
</ng-template>